clc
clear
close all;

data = [0.000000,0.000000,...
0.592466,-0.001080,...
-0.094734,-0.000768,...
0.191342,-0.000198,...
1.000000,0.000064,...
0.417420,0.002085,...
0.353553,0.003689,...
1.255293,0.001586,...
0.866025,-0.002628,...
0.461940,-0.007591,...
1.319479,-0.011939,...
1.182787,-0.008667,...
0.500000,0.008898,...
1.182787,0.043054,...
1.319479,0.097447,...
0.461940,0.174041,...
0.866025,0.268142,...
1.255293,0.374772,...
0.353553,0.489336,...
0.417420,0.602415,...
1.000000,0.705874,...
0.191342,0.796835,...
-0.094734,0.871590,...
0.592466,0.927788,...
-0.000000,0.968218,...
-0.592466,0.993467,...
0.094734,1.001205,...
-0.191342,0.992586,...
-1.000000,0.968154,...
-0.417420,0.925703,...
-0.353553,0.867901,...
-1.255293,0.795249,...
-0.866025,0.708502,...
-0.461940,0.610006,...
-1.319479,0.501275,...
-1.182787,0.383439,...
-0.500000,0.259244,...
-1.182787,0.130987,...
-1.319479,-0.000000,...
-0.461940,-0.130987,...
-0.866025,-0.259244,...
-1.255293,-0.383439,...
-0.353553,-0.501275,...
-0.417420,-0.610006,...
-1.000000,-0.708502,...
-0.191342,-0.795249,...
0.094734,-0.867901,...
-0.592466,-0.925703,...
0.000000,-0.968154,...
0.592466,-0.993666,...
-0.094734,-1.001974,...
0.191342,-0.993666,...
1.000000,-0.968154,...
0.417420,-0.925703,...
0.353553,-0.867901,...
1.255293,-0.795249,...
0.866025,-0.708502,...
0.461940,-0.610006,...
1.319479,-0.501275,...
1.182787,-0.383439,...
0.500000,-0.259244,...
1.182787,-0.130987,...
1.319479,0.000000,...
0.461940,0.130987,...
0.866025,0.259244,...
1.255293,0.383439,...
0.353553,0.501275,...
0.417420,0.610006,...
1.000000,0.708502,...
0.191342,0.795249,...
-0.094734,0.867901,...
0.592466,0.925703,...
0.000000,0.968154,...
-0.592466,0.993666,...
0.094734,1.001974,...
-0.191342,0.993666,...
-1.000000,0.968154,...
-0.417420,0.925703,...
-0.353553,0.867901,...
-1.255293,0.795249,...
-0.866025,0.708502,...
-0.461940,0.610006,...
-1.319479,0.501275,...
-1.182787,0.383439,...
-0.500000,0.259244,...
-1.182787,0.130987,...
-1.319479,-0.000000,...
-0.461940,-0.130987,...
-0.866025,-0.259244,...
-1.255293,-0.383439,...
-0.353553,-0.501275,...
-0.417420,-0.610006,...
-1.000000,-0.708502,...
-0.191342,-0.795249,...
0.094734,-0.867901,...
-0.592466,-0.925703,...
0.000000,-0.968154,...
0.592466,-0.993666,...
-0.094734,-1.001974,...
0.191342,-0.993666,...
1.000000,-0.968154,...
0.417420,-0.925703,...
0.353553,-0.867901,...
1.255293,-0.795249,...
0.866025,-0.708502,...
0.461940,-0.610006,...
1.319479,-0.501275,...
1.182787,-0.383439,...
0.500000,-0.259244,...
1.182787,-0.130987,...
1.319479,0.000000,...
0.461940,0.130987,...
0.866025,0.259244,...
1.255293,0.383439,...
0.353553,0.501275,...
0.417420,0.610006,...
1.000000,0.708502,...
0.191342,0.795249,...
-0.094734,0.867901,...
0.592466,0.925703,...
0.000000,0.968154,...
-0.592466,0.993666,...
0.094734,1.001974,...
-0.191342,0.993666,...
-1.000000,0.968154,...
-0.417420,0.925703,...
-0.353553,0.867901,...
-1.255293,0.795249,...
-0.866025,0.708502,...
-0.461940,0.610006,...
-1.319479,0.501275,...
-1.182787,0.383439,...
-0.500000,0.259244,...
-1.182787,0.130987,...
-1.319479,-0.000000,...
-0.461940,-0.130987,...
-0.866025,-0.259244,...
-1.255293,-0.383439,...
-0.353553,-0.501275,...
-0.417420,-0.610006,...
-1.000000,-0.708502,...
-0.191342,-0.795249,...
0.094734,-0.867901,...
-0.592466,-0.925703,...
-0.000000,-0.968154,...
0.592466,-0.993666,...
-0.094734,-1.001974,...
0.191342,-0.993666,...
1.000000,-0.968154,...
0.417420,-0.925703,...
0.353553,-0.867901,...
1.255293,-0.795249,...
0.866025,-0.708502,...
0.461940,-0.610006,...
1.319479,-0.501275,...
1.182787,-0.383439,...
0.500000,-0.259244,...
1.182787,-0.130987,...
1.319479,0.000000,...
0.461940,0.130987,...
0.866025,0.259244,...
1.255293,0.383439,...
0.353553,0.501275,...
0.417420,0.610006,...
1.000000,0.708502,...
0.191342,0.795249,...
-0.094734,0.867901,...
0.592466,0.925703,...
-0.000000,0.968154,...
-0.592466,0.993666,...
0.094734,1.001974,...
-0.191342,0.993666,...
-1.000000,0.968154,...
-0.417420,0.925703,...
-0.353553,0.867901,...
-1.255293,0.795249,...
-0.866025,0.708502,...
-0.461940,0.610006,...
-1.319479,0.501275,...
-1.182787,0.383439,...
-0.500000,0.259244,...
-1.182787,0.130987,...
-1.319479,-0.000000,...
-0.461940,-0.130987,...
-0.866025,-0.259244,...
-1.255293,-0.383439,...
-0.353553,-0.501275,...
-0.417420,-0.610006,...
-1.000000,-0.708502,...
-0.191342,-0.795249,...
0.094734,-0.867901,...
-0.592466,-0.925703,...
0.000000,-0.968154,...
0.592466,-0.993666,...
-0.094734,-1.001974,...
0.191342,-0.993666,...
1.000000,-0.968154,...
0.417420,-0.925703,...
0.353553,-0.867901,...
1.255293,-0.795249,...
0.866025,-0.708502,...
0.461940,-0.610006,...
1.319479,-0.501275,...
1.182787,-0.383439,...
0.500000,-0.259244,...
1.182787,-0.130987,...
1.319479,0.000000,...
0.461940,0.130987,...
0.866025,0.259244,...
1.255293,0.383439,...
0.353553,0.501275,...
0.417420,0.610006,...
1.000000,0.708502,...
0.191342,0.795249,...
-0.094734,0.867901,...
0.592466,0.925703,...
0.000000,0.968154,...
-0.592466,0.993666,...
0.094734,1.001974,...
-0.191342,0.993666,...
-1.000000,0.968154,...
-0.417420,0.925703,...
-0.353553,0.867901,...
-1.255293,0.795249,...
-0.866025,0.708502,...
-0.461940,0.610006,...
-1.319479,0.501275,...
-1.182787,0.383439,...
-0.500000,0.259244,...
-1.182787,0.130987,...
-1.319479,-0.000000,......
-0.461940,-0.130987,......
-0.866025,-0.259244,...
-1.255293,-0.383439,...
-0.353553,-0.501275,...
-0.417420,-0.610006,...
-1.000000,-0.708502,...
-0.191342,-0.795249,...
0.094734,-0.867901,...
-0.592466,-0.925703,......
-0.000000,-0.968154,............
0.592466,-0.993666,...
-0.094734,-1.001974,...
0.191342,-0.993666,...
1.000000,-0.968154,......
0.417420,-0.925703,...
0.353553,-0.867901,...
1.255293,-0.795249,...
0.866025,-0.708502,...
0.461940,-0.610006,...
1.319479,-0.501275,...
1.182787,-0.383439,...
0.500000,-0.259244,...
1.182787,-0.130987,...
1.319479,0.000000,...
0.461940,0.130987,...
0.866025,0.259244,...
1.255293,0.383439,...
0.353553,0.501275,...
0.417420,0.610006,...
1.000000,0.708502,...
0.191342,0.795249,...
-0.094734,0.867901,...
0.592466,0.925703,...
0.000000,0.968154,...
-0.592466,0.993666,...
0.094734,1.001974,...
-0.191342,0.993666,...
-1.000000,0.968154,...
-0.417420,0.925703,...
-0.353553,0.867901,...
-1.255293,0.795249,...
-0.866025,0.708502,...
-0.461940,0.610006,...
-1.319479,0.501275,...
-1.182787,0.383439,...
-0.500000,0.259244,...
-1.182787,0.130987,...
-1.319479,-0.000000,...
-0.461940,-0.130987,...
-0.866025,-0.259244,...
-1.255293,-0.383439,...
-0.353553,-0.501275,...
-0.417420,-0.610006,...
-1.000000,-0.708502,...
-0.191342,-0.795249,...
0.094734,-0.867901,...
-0.592466,-0.925703,...
-0.000000,-0.968154,......
0.592466,-0.993666,...
-0.094734,-1.001974,...
0.191342,-0.993666,...
1.000000,-0.968154,...
0.417420,-0.925703,...
0.353553,-0.867901,...
1.255293,-0.795249,...
0.866025,-0.708502,...
0.461940,-0.610006,...
1.319479,-0.501275,...
1.182787,-0.383439,...
0.500000,-0.259244,...
1.182787,-0.130987,...
1.319479,0.000000,...
0.461940,0.130987,...
0.866025,0.259244,...
1.255293,0.383439,...
0.353553,0.501275,...
0.417420,0.610006,...
1.000000,0.708502,...
0.191342,0.795249,...
-0.094734,0.867901,...
0.592466,0.925703,...
0.000000,0.968154,...
-0.592466,0.993666,...
0.094734,1.001974,...
-0.191342,0.993666,...
-1.000000,0.968154,...
-0.417420,0.925703,...
-0.353553,0.867901,...
-1.255293,0.795249,...
];


raw  = data(1:2:end);  % 奇數位，索引 1, 3, 5, ..., 639
filtered = data(2:2:end);  % 偶數位，索引 2, 4, 6, ..., 640

Fs = 48000;
L = length(raw);
f = Fs*(0:(L/2))/L;

sample_time = 1/48000;
t = 0 : sample_time : sample_time * (length(raw) - 1);


figure(1)
subplot(2,1,1);
plot(t,raw);
subplot(2,1,2);
plot(t,filtered);


% FFT原始訊號
Y_raw = fft(raw);
P2_raw = abs(Y_raw/L);
P1_raw = P2_raw(1:L/2+1);

% FFT濾波訊號
Y_filt = fft(filtered);
P2_filt = abs(Y_filt/L);
P1_filt = P2_filt(1:L/2+1);
figure(2)
subplot(2,1,1);
plot(f, P1_raw);
title('FFT of Raw Signal');
xlabel('Frequency (Hz)');
ylabel('|Amplitude|');

subplot(2,1,2);
plot(f, P1_filt);
title('FFT of Filtered Signal');
xlabel('Frequency (Hz)');
ylabel('|Amplitude|');

